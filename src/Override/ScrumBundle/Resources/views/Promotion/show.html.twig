{% extends '::base.html.twig' %}

{% block body -%}

<div class="panel panel-default">
    <div class="panel-heading">
        <h2 class="text-primary clearfix">Promotions : {{entity.identifiant}}<a class="btn btn-success btn-sm pull-right " href="{{ path('promotion_edit', { 'id': entity.id }) }}">Éditer</a></h2>
        
    </div>
     <div class="panel-body">
        <ul class="list-unstyled">
            <li># : {{entity.id}}</li>
            <li>Nom de la formation : {{ entity.cursus.formation.nom }}</li>
            <li>Date de début : {{ entity.cursus.dateDebut|date("m/d/Y") }}</li>
            <li>Date de Fin : {{entity.cursus.dateFin|date("m/d/Y")}}</li>
        </ul>
    </div>
</div>

<div class="panel panel-default">
    <div class="panel-heading clearfix">
        <strong>
            <i class="glyphicon glyphicon-user margin-right"></i>
            Liste des étudiants
        </strong>
        <a href="{{ path('manage_promotion', { 'id': entity.id  }) }}" class="btn btn-success btn-sm pull-right ">
            Gérer
        </a>
        

    </div>
    
    {% if entity.etudiants|length > 0 %}

     <table class="table">
        <thead>
            <tr>
                <th>#</th>
                <th>Nom</th>
                <th>Prénom</th>
                <th>Téléphone</th>
                <th>Mail</th>
                
            </tr>
        </thead>
        <tbody>
            {% for etudiant in entity.etudiants  %}
                <tr>
                    <td>{{ etudiant.id }}</td>
                    <td>{{ etudiant.user.nom }}</td>
                    <td>{{ etudiant.user.prenom }}</td>
                    <td>{{ etudiant.user.telephone }}</td>
                    <td>{{ etudiant.user.email }}</td>

                </tr>
            {% endfor %}
            
        </tbody>
    </table>
    {% else %}
    <div class="panel-body">
        <p>Aucun étudiant</p>
    </div>
    {% endif %}
</div>
<a href="{{ path('promotion') }}"><strong><i class="glyphicon glyphicon-arrow-left"></i>
Revenir à la liste</strong></a>

{% endblock %}
